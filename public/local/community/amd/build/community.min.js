/**
 * Global Community AMD module.
 *
 * @module     local_community/community
 * @copyright  2026 Youssef Khaled
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_community/community",["jquery"],(function($){return{init:function(){function loadPosts(){fetch(M.cfg.wwwroot+"/local/community/ajax/get_posts.php").then((function(res){return res.json()})).then((function(posts){let html='<button id="ask">Ask Question</button>';posts.forEach((function(p){html+='\n                            <div class="post">\n                                <h3>\n                                <a href="'.concat(M.cfg.wwwroot,"/local/community/pages/post.php?id=").concat(p.id,'">\n                                ').concat(p.title,"\n                                </a>\n                                </h3>\n                                <p>").concat(p.firstname," ").concat(p.lastname,'</p>\n                                <div class="votes">').concat(p.votes," votes</div>\n                            </div>\n                        ")})),$("#community-app").html(html)}))}loadPosts(),$(document).on("click","#ask",(function(){const title=prompt("Title"),content=prompt("Content");fetch(M.cfg.wwwroot+"/local/community/ajax/create_post.php",{method:"POST",body:JSON.stringify({title:title,content:content,posttype:"question"})}).then((function(){loadPosts()}))}))}}}));

//# sourceMappingURL=community.min.js.map